<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Null Preserver Filter - Looker Studio Community Visualization</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #4285f4;
            margin-bottom: 20px;
        }
        h2 {
            color: #333;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        .manifest-link {
            display: inline-block;
            background: #4285f4;
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 6px;
            margin: 20px 0;
            font-weight: 500;
        }
        .manifest-link:hover {
            background: #3367d6;
        }
        .code-block {
            background: #f1f3f4;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            overflow-x: auto;
            margin: 15px 0;
        }
        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Null Preserver Filter</h1>
        <p>A powerful multi-select filter visualization for Google Looker Studio that automatically preserves null values in filtering while keeping them hidden from users.</p>
        
        <h2>üöÄ Quick Start</h2>
        <p>Add this visualization to your Looker Studio report:</p>
        <a href="manifest.json" class="manifest-link">üìã View Manifest</a>
        
        <h2>‚ú® Key Features</h2>
        <ul>
            <li><strong>Automatic Null Preservation:</strong> Always includes null values in filtering without showing them in the UI</li>
            <li><strong>Multi-Select Interface:</strong> Clean checkbox interface for easy value selection</li>
            <li><strong>Search Functionality:</strong> Quickly find values in large datasets</li>
            <li><strong>Select All Option:</strong> Convenient bulk selection with smart state management</li>
            <li><strong>Responsive Design:</strong> Works seamlessly across different screen sizes</li>
            <li><strong>Accessibility First:</strong> Full keyboard navigation and screen reader support</li>
        </ul>
        
        <h2>üîß How It Works</h2>
        <p>The visualization uses a sentinel string approach to handle null values:</p>
        <div class="code-block">
// Your data should map SQL nulls to "__NULL__"
IFNULL(field, "__NULL__") AS field_nullsafe
        </div>
        
        <h2>üìä Usage in Looker Studio</h2>
        <ol>
            <li>In your Looker Studio report, go to <strong>Add a chart</strong></li>
            <li>Select <strong>Community visualizations</strong></li>
            <li>Click <strong>Import from URL</strong></li>
            <li>Paste the manifest URL: <code>https://[username].github.io/[repo]/manifest.json</code></li>
            <li>Bind your dimension to the <code>dimID</code> field</li>
            <li>Configure search and select all options as needed</li>
        </ol>
        
        <h2>‚öôÔ∏è Configuration Options</h2>
        <ul>
            <li><strong>Show Search Box:</strong> Enable/disable the search functionality (default: true)</li>
            <li><strong>Show Select All:</strong> Enable/disable the select all option (default: true)</li>
        </ul>
        
        <h2>üîí Null Handling Contract</h2>
        <div class="highlight">
            <strong>Important:</strong> The visualization expects your data to use <code>"__NULL__"</code> as a sentinel string for null values. This string will never be displayed to users but will always be included in filter operations.
        </div>
        
        <h2>üìù Examples</h2>
        <h3>BigQuery SQL</h3>
        <div class="code-block">
SELECT 
    IFNULL(category, "__NULL__") AS category_nullsafe,
    COUNT(*) as count
FROM your_table
GROUP BY category_nullsafe
        </div>
        
        <h3>Looker Studio Calculated Field</h3>
        <div class="code-block">
IFNULL(category, "__NULL__")
        </div>
        
        <h2>üîÑ Updates & Cache Busting</h2>
        <p>When updating the visualization, add a version parameter to the manifest URL to avoid caching issues:</p>
        <div class="code-block">
https://[username].github.io/[repo]/manifest.json?v=2024-01-15
        </div>
        
        <h2>üêõ Troubleshooting</h2>
        <ul>
            <li><strong>Visualization not loading:</strong> Ensure the manifest URL is accessible and returns proper JSON</li>
            <li><strong>Filter not working:</strong> Verify your dimension is bound to <code>dimID</code> and contains the <code>"__NULL__"</code> sentinel</li>
            <li><strong>Styling issues:</strong> Check that all CSS and JS files are accessible from your GitHub Pages URL</li>
        </ul>
        
        <h2>üìö Technical Details</h2>
        <ul>
            <li><strong>Framework:</strong> Vanilla JavaScript (no external dependencies)</li>
            <li><strong>APIs:</strong> Looker Studio Community Visualization APIs</li>
            <li><strong>Browser Support:</strong> Modern browsers with ES6+ support</li>
            <li><strong>Accessibility:</strong> WCAG 2.1 AA compliant</li>
        </ul>
        
        <hr style="margin: 40px 0; border: none; border-top: 1px solid #eee;">
        <p style="text-align: center; color: #666;">
            Built for the Looker Studio Community ‚Ä¢ 
            <a href="https://github.com/[username]/[repo]" style="color: #4285f4;">View on GitHub</a>
        </p>
    </div>
</body>
</html>
